<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>
		
	</title>

        <!-- jQuery -->
        <script type="text/javascript" src="lib/jquery.min.js"></script>

        <!-- Bootstrap -->
        <link href="lib/bootstrap.css" rel="stylesheet" media="screen">
        <link type="text/css" href="lib/bootstrap-theme.css" rel="stylesheet" />
        <script type="text/javascript" src="lib/bootstrap.js"></script>

        <!-- Handlebars -->
        <script type="text/javascript" src="lib/handlebars.js"></script>

        <!-- Alpaca -->
        <script type="text/javascript" src="lib/alpaca.js"></script>
        <link type="text/css" href="lib/alpaca.css" rel="stylesheet" />

    <link type="text/css" href="lib/form.css" rel="stylesheet" />

</head>
<body>
<div id="form"></div>
<script>
	$(document).ready(function() {
    $("#form").alpaca({
    		//"dataSource": "http://www.alpacajs.org/releases/1.1.3/examples/components/wizards/customer-profile-data.json",
      	"dataSource" :{
                "Général.Projet.Nom": "LEONARDO 2017",
                "Général.Projet.Session": "Bois tropicaux",

                "Instrument.Catégorie": "0: Cordes pincées",
                "Instrument.Famille": "0: Guitares",
                "Instrument.Nom": "0: Classique",
                "Instrument.Modèle": "Bouchet",
                "Instrument.Année de fabrication": "2017",
                "Instrument.Numéro de série": "CT1",
                "Instrument.Commentaires": "",
                "Instrument.Paramètres":
                    [
                        {
                            "nom":"nom1",
                            "valeur":"valeur1"
                        },
                        {
                            "nom":"nom2",
                            "valeur":"valeur2"
                        }
                    ],
                "Objet physique.Fabricant": "Hans Van Velzen",

                "Instrument.Etat.Nom":"",
                "Instrument.Etat.Paramètres":
                    [
                        {
                            "nom":"nom1",
                            "valeur":"valeur1"
                        },
                        {
                            "nom":"nom2",
                            "valeur":"valeur2"
                        }
                    ],
                "Instrument.Etat.Commentaires sur l&#39;état de l&#39;instrument": "",

                "Essai.Paramètres de mesure.Méthode.Type de mesure": "0: Réponses",
                "Essai.Conditions expérimentales.Commentaires sur la mesure réalisée": "Excitation en P0, situé à 12cm du chevalet, corde E aigue\nAccelero au chevalet E grave\nMicro dans l'axe à 30 cm",
                "Essai.Paramètres":
                    [
                        {
                            "nom":"nom1",
                            "valeur":"valeur1"
                        },
                        {
                            "nom":"nom2",
                            "valeur":"valeur2"
                        }
                    ]
}
,
        //"schemaSource": "http://www.alpacajs.org/releases/1.1.3/examples/components/wizards/customer-profile-schema.json",
        "schemaSource":{
            "type": "object",
                    "properties": {
                        "Général.Projet.Nom": {
                            "title":"Nom",
                            "type": "string"
                        },
                        "Général.Projet.Session": {
                            "title":"Session",
                            "type": "string"
                        },
                        "Instrument.Catégorie": {
                            "title":"Catégorie",
                            "type": "string"
                        },
                        "Instrument.Famille": {
                            "title":"Famille",
                            "type": "string"
                        },
                        "Instrument.Nom": {
                            "title":"Nom",
                            "type": "string"
                        },
                        "Instrument.Modèle": {
                            "title":"Modèle",
                            "type": "string"
                        },
                        "Instrument.Année de fabrication": {
                            "title":"Année de fabrication",
                            "type": "string",
                            "pattern": "^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$"
                        },
                        "Instrument.Numéro de série": {
                            "title":"Numéro de série",
                            "type": "string"
                        },
                        "Instrument.Commentaires": {
                            "title":"Commentaires",
                            "type": "string"
                        },
                        "Instrument.Paramètres": {
                            "title":"Paramètres",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "nom": {
                                        "title":"nom",
                                        "type": "string",
                                        "pattern": "^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$"
                                    },
                                    "valeur": {
                                        "title":"valeur",
                                        "type": "string"
                                    }
                                },
                                "additionalProperties": false
                            }
                        },
                        "Objet physique.Fabricant": {
                            "title":"Fabricant",
                            "type": "string"
                        },
                        "Instrument.Etat.Nom": {
                            "title":"Nom",
                            "type": "string"
                        },
                        "Instrument.Etat.Paramètres": {
                            "title":"Paramètres",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "nom": {
                                        "title":"nom",
                                        "type": "string",
                                        "pattern": "^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$"
                                    },
                                    "valeur": {
                                        "title":"valeur",
                                        "type": "string"
                                    }
                                },
                                "additionalProperties": false
                            }
                        },
                        "Instrument.Etat.Commentaires sur l&#39;état de l&#39;instrument": {
                            "title":"Commentaires sur l&#39;état de l&#39;instrument",
                            "type": "string"
                        },
                        "Essai.Paramètres de mesure.Méthode.Type de mesure": {
                            "title":"Type de mesure",
                            "type": "string",
                            "enum":['0: Réponses','1: Mobilité au fil','2: Mobilité au marteau (Yh)']
                        },
                        "Essai.Conditions expérimentales.Commentaires sur la mesure réalisée": {
                            "title":"Commentaires sur la mesure réalisée",
                            "type": "string"
                        },
                        "Essai.Paramètres": {
                            "title":"Paramètres",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "nom": {
                                        "title":"nom",
                                        "type": "string",
                                        "pattern": "^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$"
                                    },
                                    "valeur": {
                                        "title":"valeur",
                                        "type": "string"
                                    }
                                },
                                "additionalProperties": false
                            }
                        }
                    },
                    "additionalProperties": false
        }
        ,
        //"optionsSource": "http://www.alpacajs.org/releases/1.1.3/examples/components/wizards/customer-profile-options.json",
        "options": {
                    "fields": {
                        "Instrument.Paramètres": {
                            "type":"table"
                        },
                        "Instrument.Commentaires": {
                            "type": "textarea"
                        },
                        "Instrument.Etat.Paramètres": {
                            "type":"table"
                        },
                        "Essai.Paramètres de mesure.Méthode.Type de mesure": {
                            "hideNone": 1
                        },
                        "Essai.Conditions expérimentales.Commentaires sur la mesure réalisée": {
                            "type":"textarea"
                        },
                        "Essai.Paramètres": {
                            "type":"table"
                        }
                    }
        },
        "view": {
            "parent": "bootstrap-edit",
            "wizard": {
                "title": "PAFI",
                "description": "Saisie a minima des métadonnées",
                "bindings": {
                    "Général.Projet.Nom": 1,
                    "Général.Projet.Session": 1,

                    "Instrument.Catégorie": 2,
                    "Instrument.Famille": 2,
                    "Instrument.Nom": 2,
                    "Instrument.Modèle": 2,
                    "Instrument.Année de fabrication": 2,
                    "Instrument.Numéro de série": 2,
                    "Objet physique.Fabricant": 2,
                    "Instrument.Commentaires": 2,
                    "Instrument.Paramètres": 2,

                    "Instrument.Etat.Nom":3,
                    "Instrument.Etat.Paramètres":3,
                    "Instrument.Etat.Commentaires sur l&#39;état de l&#39;instrument": 3,

                    "Essai.Paramètres de mesure.Méthode.Type de mesure": 4,
                    "Essai.Conditions expérimentales.Commentaires sur la mesure réalisée": 4,
                    "Essai.Paramètres":4
                },
                "steps": [{
                    "title": "Projet",
                    "description": "Informations sur le projet"
                }, {
                    "title": "Instrument",
                    "description": "Nom, Modèle, Numéro"
                }, {
                    "title": "Etat",
                    "description": "Etape de fabrication"
                }, {
                    "title": "Mesure",
                    "description": "Informations sur la mesure"
                }],
                "markAllStepsVisited":true
            }
        }
    });
});
</script>
</body>
</html>